# 소프트웨어 개발 보안 구축
## 소프트웨어 개발 보안 설계 [ ★★★ ]
- 보안 취약점 제거, 보안을 고려하여 기능 설계 및 구현 등 개발 과정에서 지켜야 할 보안 활동

#### SW 개발 보안의 3대 요소
- 기밀성 : 인가되지 않은 개인 혹은 시스템 접근에 따른 정보 공개 및 노출을 차단하는 특성
- 무결성 : 정당한 방법을 따르지 않고서는 데이터가 변경될 수 없음
- 가용성 : 권한을 가진 사용자가 원하는 서비스를 지속적으로 사용할 수 있도록 보장
#### SW 개발 보안 용어
- 자산 : 가치를 부여한 대상
- 위협 : 자산에 악영향을 끼칠 수 있는 사건이나 행위
- 취약점 : 위협이 발생하기 위한 사전 조건
- 위험 : 자산 손실 피해를 가져올 가능성

### Dos 공격 (서비스 거부)
- 해당 시스템의 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
- 종류
  - SYN 플러딩 : __TCP 프로토콜의 구조적 문제__ 를 이용한 공격. __SYN 패킷만 보내 점유하여 다른 사용자가 서버를 사용 불가__ 하게 하는 공격
  - UDP 플러딩 : __대량의 UDP 패킷__ 을 만들어 임의의 포트 번호로 전송하여 __응답 메세지(ICMP)를 생성하게 하여 지속적으로 자원을 고갈__ 시키는 공격
  - 스머프/스머핑 : 출발지 주소를 공격 대상의 IP로 설정하여 __네트워크 전체에게 ICMP Echo 패킷을 직접 브로드캐스팅__ 하여 마비시키는 공격
  - 죽음의 핑 : __ICMP 패킷(Ping)을 정상적인 크기보다 아주 크게 만들어 전송__ -> 다수의 IP 단편화가 발생, __단편화된 패킷을 재조합하는 과정에서 많은 부하나 오버플로우 발생__ 
  - 랜드 어택 : __출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보냄__ 으로서 시스템 가용성을 침해하는 공격
  - 티어 드롭 : IP 패킷의 재조합 과정에서 __잘못된 Fragment Offset 정보로 인해 수신시스템이 문제가 발생__하도록 만드는 Dos공격
  - 봉크/보잉크 : __프로토콜의 오류 제어를 이용한 공격기법__. 시스템의 패킷 재전송과 재조립이 과부하를 유발

### DDoS 공격
- 여러 대의 공격자를 분산 배치하여 동시에 동작하게 함으로써 특정 사이트를 공격하는 방법
- 구성요소 ( HAMAD )
  - 핸들러 : 마스터 시스템의 역할을 수행하는 프로그램
  - 에이전트 : 공격 대상에 직접 공격을 가하는 시스템
  - 마스터 : 공격자에게서 직접 명령을 받는 시스템. 여러 대의 에이전트 관리
  - 공격자 : 공격을 주도하는 해커의 컴퓨터
  - 데몬 프로그램 : 에이전트 시스템의 역할을 수행하는 프로그램
- 공격 도구
  - Trinoo : UDP flood 서비스 거부 공격을 유발하는데 사용되는 도구
  - Tribe Flood Network : 공격자가 클라이언트(마스터) 프로그램을 통해 공격 명령을 일련의 TFN 서버들(데몬들)에게 보냄으로써 이루어짐
  - Stacheldraht : Linux 및 Solaris 시스템용 멀웨어 도구

### DRDoS 공격
- 출발지 IP를 공격대상 IP로 위조하여 다수의 반사 서버로 요청 정보를 전송, 공격 대상자는 반사 서버로부터 다량의 응답을 받아서 서비스 거부가 되는 공격
- 공격 절차
  - 출발지 IP 변조 : __출발지 IP를 공격대상 IP로 스푸핑__ 하여 SYN패킷을 공격 경유지 서버로 전송
  - 공격 대상자 서버로 응답 : SYN 패킷을 받은 경유지 서버는 스푸핑된 IP로 SYN/ACK 전송
  - 서비스 거부 : 공격 대상자 서버는 수많은 SYN/ACK 를 받게 되어 서비스 거부상태가 됨

### 어플리케이션 공격
- HTTP GET 플러딩 : __과도한 GET 메세지를 이용__ 하여 웹 서버의 과부하를 유발시키는 공격
- Slowloris : __헤더의 최종 끝을 알리는 개행 문자열을 전송하지 않고__ 대상 웹 서버와 연결상태를 장시간 지속시키고 연결 자원을 모두 소진시키는 공격
- RUDY (Slow HTTP POST DoS) : __Content-Length를 비정상적으로 크게 설정, 메세지 바디 부분을 매우 소량__ 으로 보내 계속 연결상태로 유지하는 공격
- Slow HTTP Read DoS : __TCP 윈도 크기와 데이터 처리율 감소__, 다수 HTTP 패킷 지속적 전송하는 공격
- Hulk DoS : 공격자가 공격대상 웹 사이트 __웹 페이지 주소(URL)을 지속적으로 변경하면서 다량의 GET 요청__ 을 발생시키는 서비스 거부 공격
- Hash DoS : 다수의 해시 충돌을 발생시켜서 자원을 소모시키는 공격

### 네트워크 공격 [ ★ ]
- 스니핑 : 데이터만 몰래 들여다보는 수동적 공격
- 네트워크 스캐너, 스니퍼 : 취약점을 탐색하는 공격 도구
- 패스워드 크래킹
  - 사전 크래킹 : ID와 패스워드가 될 가능성이 있는 단어를 파일로 만들어 놓고 대입하여 크랙하는 공격기법
  - 무차별 크래킹 : 무작위로 패스워드를 입력하여 크랙하는 공격기법
  - 패스워드 하이브리드 공격 : 사전 공격과 무차별 공격을 결합하여 공격
  - 레인보우 테이블 : 패스워드 별로 해시 값을 미리 생성, 크래킹 하고자 하는 해시 값을 __테이블에서 검색해서 역으로 패스워드를 찾는 기법__ 
- IP 스푸핑 : __인증된 컴퓨팅 시스템인것처럼 속여서__  타깃 시스템의 정보를 빼내기 위해 본인의 패킷 헤더를 인증된 호스트의 IP 주소로 위조하여 타깃에 전송하는 기법
- ARP 스푸핑 : 특정 호스트의 MAC 주소를 __자신의 MAC 주소로 위조한 ARP Reply__ 를 만들어 희생자에게 지속적으로 전송,   
               희생자의 ARP Cache Table에 특정 호스트의 MAC 정보를 공격자의 MAC 정보로 변경
- ICMP Redirect 공격 : __스니핑 시스템을 네트워크에 존재하는 또 다른 라우터라고 알림__ 으로써 패킷의 흐름을 바꾸는 기법
- 트로이 목마 : __겉보기에는 정상적인 프로그램으로 보이지만 실행하면 악성 코드__ 를 실행하는 프로그램
               
### 시스템 보안 위협
#### 버퍼 오버플로우 공격
- 메모리에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력하여 이로 인해 프로세스의 흐름을 변경시켜서 악성 코드를 실행시키는 공격 기법
- 공격 유형
  - 스택 버퍼 오버플로우 : __스택 영역__ 에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력하여 __복귀 주소를 변경__ 하고 공격자가 원하는 임의의 코드를 실행하는 기법
  - 힙 버퍼 오버플로우 : __힙 영역__ 에 할당된 버퍼 크기를 초과하는 데이터를 입력하여 __메모리의 데이터와 함수 주소 등을 변경__ , 공격자가 원하는 임의의 코드를 실행하는 기법
- 대응 방안
  - 스택가드 : __카나리__ 라고 하는 무결성 체크용 값을 복귀 주소와 변수 사이에 삽입해 두고, 버퍼 오버플로우 발생 시 카나리 값을 체크
  - 스택쉴드 : 함수 시작 시 복귀 주소를 __Global RET__ 이라는 특수 스택에 저장, 함수 종료 시 저장된 값과 스택의 RET 값을 비교해서 다를 경우 오버플로우로 간주
  - ASLR : 메모리 공격을 방어하기 위해 주소 공간 배치를 난수화

#### 백도어
- 정상적인 인증 절차를 우회하는 기법
- 백도어 탐지 기법
  - 프로세스 및 열린 포트 확인 : TCPView로 열린 포트 확인, 백도어 탐지. 리눅스는 Netstat -an(열린포트 확인)
  - Setuid 파일 검사 : 새로 생성된 Setuid파일이나 변경된 파일 확인을 통해 백도어 탐지
  - 무결성 검사 : 리눅스 Tripwire를 통한 무결성 검사

#### 주요 시스템 보안 공격기법
- 포맷 스트링 공격 : 외부로부터 __입력된 값을 검증하지 않고 입출력 함수의 포맷 스트링을 그대로 사용__ 하는 경우 발생
- 레이스 컨디션 공격 : 둘 이상의 프로세스나 스레드가 공유자원을 __동시에 접근할 때 접근 순서에 따라 비정상적인 결과가 발생__ 하는 조건/상황
- 키로거 공격 : 컴퓨터 사용자의 __키보드 움직임을 탐지해서 저장__ 하고, ID나 패스워드, 계좌 번호, 카드 번호 등과 같은 개인의 중요한 정보를 몰래 빼가는 해킹 공격
- 루트킷 : 시스템 침입 후 침입 사실을 숨긴 채 백도어, 트로이 목마 설치 등 __불법적 해킹에 사용하는 기능을 제공하는 프로그램 모음__ 

### 보안 관련 용어
- 스피어피싱 : 일반적인 이메일로 위장한 메일을 지속적으로 발송, 링크나 파일을 클릭하도록 유도하여 개인정보 탈취
- 스미싱 : SMS + Phising의 합성어
- 큐싱 : QR Code + Phising의 합성어
- 봇넷 : 악성 프로그램에 감염되어 악의적 의도로 사용될 수 있는 다수의 컴퓨터들이 네트워크로 연결된 형태
- APT 공격 : 특정 타깃을 목표로 하여 다양한 수단을 통한 지속적이고 지능적인 맞춤형 공격 기법
- 공급망 공격 : SW 개발사의 네트워크에 침투하여 __악의적인 코드를 삽입하거나 파일을 변경하는 방식을 통해 소프트웨어 설치나 업데이트 시 감염__ 되도록 하는 기법
- 제로데이 공격 : __보안 취약점이 발견되어 공표되기 전__ 에 해당 취약점을 악용하여 공격
- 웜 : __스스로를 복제, 네트워크 등으로 전파. 독자적 실행 가능__ , 다른 실행프로그램 불필요
- 악성 봇 : 스스로 실행되지 못하고 해커의 명령에 의해 원격에서 제어 또는 실행이 가능한 프로그램 혹은 코드 (좀비 PC)
- 랜섬웨어 : 감염된 파일을 암호화하여 복호화 할 수 없도록 하고 몸값을 요구하는 악성 소프트웨어
- Tripwire : 시스템에 백도어를 만들어 놓거나 설정 파일을 변경해 놓았을 때 이러한 사실을 알 수 있게 분석하는 도구
- Ping : 원격 호스트가 __정상적으로 운영되고 있는지 확인하는 진단 목적 명령어__ 
- Tcpdump : 패킷의 내용을 출력하는 프로그램. __자신의 컴퓨터로 들어오는 모든 패킷의 내용 도청__ 가능








































