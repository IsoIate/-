# 소프트웨어 개발 보안 설계
## 소프트웨어 개발 보안 설계
#### SW 개발 보안의 3대 요소
- 기밀성 : 인가되지 않은 개인 혹은 시스템 접근에 따른 정보 공개 및 노출을 차단하는 특성
- 무결성 : 정당한 방법을 따르지 않고서는 데이터가 변경될 수 없음
- 가용성 : 권한을 가진 사용자가 어플리케이션이 원하는 서비스를 지속적으로 사용할 수 있도록 보장하는 특성

#### SW 개발 보안 용어
- 자산
- 위협
- 취약점
- 위험

## SW 개발 보안을 위한 공격기법의 이해
### DoS 공격
- 시스템을 악의적으로 공격해서 해당 시스템의 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격

#### 종류
- SYN 플러딩 : __TCP 프로토콜의 구조적인 문제를 이용한 공격__. __SYN 패킷__ 만 보내 점유하여 다른 사용자가 서버를 사용하지 못하게 함
- UDP 플러딩 : __대량의 UDP 패킷__ 을 만들어 임의의 포트 번호로 전송, 응답 메세지를 생성하게 하여 지속해서 자원을 고갈시키는 공격
- 스머프/스머핑 : 출발지 주소를 공격 대상의 IP로 설정하여 네트워크 전체에게 ICMP Echo 패킷을 __직접 브로드캐스팅__ 하여 마비시키는 공격
- 죽음의 핑 : __ICMP 패킷을 정상적인 크기보다 아주 크게 만들어 전송__ 하여 __다수의 IP 단편화가 발생__ 하고 재조합 하는 과정에서 많은 부하 발생 또는 오버플로우 발생
- 랜드 어택 : __출발지 IP와 목적지 IP를 같은 패킷 주소__ 로 만들어 보냄으로써 시스템 가용성 침해
- 티어 드롭 : IP 패킷 재조합 과정에서 __잘못된 Fragment Offset 정보__ 로 인해 수신시스템에 문제가 발생하도록 함
- 봉크/보잉크 : __프로토콜의 오류 제어__ 를 이용한 공격기법 (봉크 -> 같은 시퀀스 번호, 보잉크 -> 일정 간격으로 시퀀스 번호에 빈 공간 생성)

### DDoS 공격
- __여러 대의 공격자를 분산 배치하여 동시에 동작__ 하게 함으로써 특정 사이트를 공격하는 기법
#### 공격 구성요소
- 핸들러
- 에이전트
- 마스터
- 공격자
- 데몬 프로그램

#### 공격 도구
- Trinoo : 많은 소스로부터 통합된 __UDP Flood 서비스 거부 공격을 유발__ 하는데 사용되는 도구
- Tribe Flood Network : __trinoo와 거의 유사함__. TCP SYN Flood, ICMP echo 요청 공격, ICMP 브로드캐스트 공격 수행 가능
- Stacheldraht 

### DRDoS 공격
- 출발지 IP를 공격대상 IP로 위조하여 다수의 __반사 서버로 요청 정보를 전송__ , 공격 대상자는 __반사 서버로부터 다량의 응답__ 을 받아서 서비스 거부가 되는 공격

### 애플리케이션 공격
- HTTP GET 플러딩 : __과도한 GET 메세지__ 를 이용하여 웹 서버의 과부하를 유발시키는 공격
- Slowloris : 헤더의 최종 끝을 알리는 개행 문자열인 __/r/n/r/n을 전송하지 않고 /r/n만 전송__ 하여 연결상태를 장시간 지속, 연결 자원을 모두 소진시키는 공격
- RUDY(Slow HTTP POST DoS) : 요청 헤더의 __Content-Lenght를 비정상적으로 크게 설정__ 하여 메세지 바디 부분을 매우 소량으로 보내 연결상태를 유지시키는 공격
- Slow HTTP Read DoS : TCP 윈도 크기와 __데이터 처리율을 감소시킨 상태에서 다수 HTTP 패킷을 지속적으로 전송__ 하여 연결상태가 장시간 지속되게 하는 공격
- Hulk DoS : __웹 페이지 주소(URL)를 지속적으로 변경__ 하면서 다량으로 GET 요청을 발생시키는 공격
- Hash DoS : 조작된 많은 수의 파라미터를 POST 방식으로 웹 서버에 전달하여 __다수의 해시 충돌을 발생__ 시켜 자원을 소모시키는 공격

### 네트워크 공격
- 스니핑 : __직접 공격은 하지 않고 데이터만 몰래 들여다보는__ 수동적 공격 기법
- 네트워크 스캐너, 스니퍼 : 네트워크 하드웨어 및 소프트웨어 구성의 취약점 파악을 위해 __공격자가 취약점을 탐색__ 하는 공격 도구
- 패스워드 크래킹
  - 사전 크래킹 : ID와 패스워드를 크랙하기 위해서 __가능성이 있는 단어를 파일로 만들어 놓고 대입__ 하여 크랙하는 공격기법
  - 무차별 크래킹 : __무작위로 패스워드 자리에 대입__ 하여 알아내는 공격기법
  - 패스워드 하이브리드 공격 : 사전 공격과 무차별 대입 공격을 결합 
  - 레인보우 테이블 공격 : 패스워드 별로 해시 값을 미리 생성해서 테이블에 모아 놓고, __크래킹 하고자 하는 해시 값을 테이블에서 검색해서 역으로 패스워드를 찾는 기법__ 
- IP 스푸핑 : __인증된 컴퓨팅 시스템인것처럼 속여서 본인의 패킷 헤더를 인증된 호스트의 IP 주소로 위조__ 하여 타깃에 전송하는 공격 기법
- ARP 스푸핑 : __특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Reply를 만들어 희생자에게 지속적으로 전송__
- ICMP Redirect 공격 : 스니핑 시스템을 네트워크에 존재하는 __또다른 라우터라고 알림__ 으로써 __패킷의 흐름을 바꾸는 공격기법__ 
- 트로이 목마 : 겉보기에는 정상적인 프로그램으로 보이지만 실행하면 악성 코드를 실행하는 프로그램

### 시스템 보안 위협
#### 버퍼 오버플로우 공격
- 메모리에 __할당된 버퍼 크기를 초과하는 양의 데이터를 입력__ 하여 프로세스 흐름을 변경시켜 악성 코드를 실행시키는 방법

#### 유형
- 스택 버퍼 오버플로우 공격 : 스택 영역에 버퍼 크기를 초과하는 양의 데이터를 입력하여 __복귀 주소를 변경__ 하고 공격자가 원하는 임의의 코드를 실행하는 기법
- 힙 버퍼 오버플로우 공격 : 힙 영역에 버퍼 크기를 초과하는 양의 데이터를 입력하여 __메모리의 데이터와 함수 주소 등을 변경__ 하여 공격자가 원하는 임의의 코드를 실행하는 기법

#### 대응방안
- 스택가드 : __카나리__ 라고 불리는 무결성 체크용 값을 복귀 주소와 변수 사이에 삽입해 두고, 버퍼 오버플로우 발생 시 카나리 값 체크
- 스택쉴드 : 함수 시작 시 복귀 주소를 __Global RET__ 일아는 특수 스택에 저장해 두고 __함수 종료 시 저장된 값과 스택의 Global RET 값을 비교__ 해서 다를 경우 오버플로우로 간주
- ASLR : __주소 공간 배치를 난수화하고 실행 시마다 메모리 주소를 변경__ 시켜 버퍼 오버플로우를 통한 특정 주소 호출 차단
- 안전한 함수 활용
- 실행 제한













